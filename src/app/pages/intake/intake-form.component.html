<!-- ----------------------------------------------------------------------------------------------------- -->
<!-- Form wizard -->
<!-- ----------------------------------------------------------------------------------------------------- -->
<div class="container justify-content-center">
  <div class="row">
    <div class="col-12">
      <mat-card class="m-t-30 mat-card-top cardWithShadow position-relative overflow-hidden p-24 d-flex align-items-center">
        <img src="assets/images/inimble.png" id="logo">
        <!-- <video width="320" height="240" controls>
          <source src="movie.mp4" type="video/mp4">
          <source src="movie.ogg" type="video/ogg">
          Your browser does not support the video tag.
        </video> -->
        <h1>Let's connect you with <span class="highlight-green">the right talent</span></h1>
      </mat-card>
    </div>
  </div>
  
  <div class="row">
    <div class="col-12">
      <mat-card class="mat-card-top cardWithShadow position-relative overflow-hidden p-16">
        <mat-stepper #stepper *ngIf="!formSubmitted">
          <mat-step [stepControl]="contactInfo">
            <form class="m-t-24" [formGroup]="contactInfo">
              <ng-template matStepLabel>Contact information</ng-template>
              <div>
                <!-- company name -->
                <mat-label class="f-s-14 f-w-600 d-block m-b-16">Company name</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput formControlName="companyName" required type="text" />
                </mat-form-field>
                <!-- contact name -->
                <mat-label class="f-s-14 f-w-600 d-block m-b-16">Your name</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput formControlName="name" required type="text" />
                </mat-form-field>
                <!-- email -->
                <mat-label class="f-s-14 f-w-600 d-block m-b-16">Email address</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <input matInput formControlName="email" required type="email" />
                </mat-form-field>
                <!-- phone -->
                <mat-label class="f-s-14 f-w-600 d-block m-b-16">Phone number</mat-label>
                <div class="d-flex flex-row">
                  <mat-form-field appearance="outline" style="width: max-content;" class="m-r-16">
                    <mat-select formControlName="countryCode">
                      <mat-option value="+1">+1 (US)</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <mat-form-field appearance="outline" style="flex-grow: 1;">
                    <input matInput formControlName="phone" required type="phone" />
                  </mat-form-field>
                </div>
                <div *ngIf="contactInfo.get('phone')?.touched && contactInfo.get('phone')?.errors">
                  <p class="text-danger f-s-12 m-t-0" *ngIf="contactInfo.get('phone')?.errors?.['pattern']">Please enter a valid phone number (e.g., +1 (123) 456-7890)</p>
                </div>
              </div>
              <div class="text-right">
                <button mat-flat-button matStepperNext>Next</button>
              </div>
            </form>
          </mat-step>
          <mat-step [stepControl]="roleInfo">
            <form class="m-t-24" [formGroup]="roleInfo">
              <ng-template matStepLabel>About the talent you are looking for</ng-template>
                <!-- job name and description -->
                <mat-label class="f-s-14 f-w-600 d-block m-b-16">Job name and description</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <textarea colspan="3" matInput formControlName="jobNameAndDescription" required></textarea>
                </mat-form-field>
                <!-- required skills -->
                <div class="row">
                  <div class="col-6">
                    <mat-label class="f-s-14 f-w-600 d-block m-b-16">Skill category</mat-label>
                    <mat-form-field appearance="outline" class="w-100">
                      <mat-select formControlName="requiredSkillsCategory">
                        <mat-option value="technology">
                          Technology skills
                        </mat-option>
                        <mat-option value="administrative">
                          Administrative skills
                        </mat-option>
                        <mat-option value="real-estate">
                          Real estate skills
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-6">
                    <mat-label class="f-s-14 f-w-600 d-block m-b-16">Required skills</mat-label>
                    <mat-form-field appearance="outline" class="w-100">
                      <mat-select formControlName="requiredSkills" required multiple>
                        @for (skill of skills; track $index) {
                          <mat-option [value]="skill.name">
                            {{ skill.name }}
                          </mat-option>
                        }
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <!-- routine oriented -->
                <mat-label class="f-s-14 f-w-600 d-block m-b-16">Is routine, steady-paced work important for this role?</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <mat-select formControlName="routineOriented">
                    <mat-option value="not important">
                      Not important
                    </mat-option>
                    <mat-option value="somewhat">
                      Somewhat
                    </mat-option>
                    <mat-option value="very">
                      Very
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <!-- social oriented -->
                <mat-label class="f-s-14 f-w-600 d-block m-b-16">Should the candidate easily connect and persuade others?</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <mat-select formControlName="socialOriented">
                    <mat-option value="not important">
                      Not important
                    </mat-option>
                    <mat-option value="somewhat">
                      Somewhat
                    </mat-option>
                    <mat-option value="very">
                      Very
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <!-- decision making -->
                <mat-label class="f-s-14 f-w-600 d-block m-b-16">Will the role require independent or unpopular decisions?</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <mat-select formControlName="decisionMaking">
                    <mat-option value="not important">
                      Not important
                    </mat-option>
                    <mat-option value="somewhat">
                      Somewhat
                    </mat-option>
                    <mat-option value="very">
                      Very
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <!-- attention to detail -->
                <mat-label class="f-s-14 f-w-600 d-block m-b-16">Does the job need high attention to detail and rule-following?</mat-label>
                <mat-form-field appearance="outline" class="w-100">
                  <mat-select formControlName="attentionToDetail">
                    <mat-option value="not important">
                      Not important
                    </mat-option>
                    <mat-option value="somewhat">
                      Somewhat
                    </mat-option>
                    <mat-option value="very">
                      Very
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              <div class="d-flex align-items-center justify-content-between">
                <button
                  mat-flat-button
                  class="bg-error text-white"
                  matStepperPrevious
                >
                  Back
                </button>
                <button mat-flat-button matStepperNext>Next</button>
              </div>
            </form>
          </mat-step>
          <mat-step [stepControl]="personalInfo">
            <form class="m-t-24" [formGroup]="personalInfo">
              <ng-template matStepLabel>About you</ng-template>
              <!-- management style -->
              <mat-label class="f-s-14 f-w-600 d-block m-b-16">
                How would you describe your management style?
              </mat-label>
              <mat-form-field appearance="outline" class="w-100">
                <mat-select formControlName="managementStyle">
                  <mat-option value="hands-on and directive">
                    Hands-on and directive
                  </mat-option>
                  <mat-option value="supportive and collaborative">
                    Supportive and collaborative
                  </mat-option>
                  <mat-option value="delegative and independent">
                    Delegative and independent
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <!-- feedback style -->
              <mat-label class="f-s-14 f-w-600 d-block m-b-16">
                How do you prefer to give feedback?
              </mat-label>
              <mat-form-field appearance="outline" class="w-100">
                <mat-select formControlName="feedbackStyle">
                  <mat-option value="direct and inmediate">
                    Direct and inmediate
                  </mat-option>
                  <mat-option value="tactful and encouraging">
                    Tactful and encouraging
                  </mat-option>
                  <mat-option value="structured and formal">
                    Structured and formal
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <!-- communication style -->
              <mat-label class="f-s-14 f-w-600 d-block m-b-16">
                What type of communication do you value most in your team?
              </mat-label>
              <mat-form-field appearance="outline" class="w-100">
                <mat-select formControlName="communicationStyle">
                  <mat-option value="clear and to the point">
                    Clear and to the point
                  </mat-option>
                  <mat-option value="open and friendly">
                    Open and friendly
                  </mat-option>
                  <mat-option value="detailed and precise">
                    Detailed and precise
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <!-- conflict handling -->
              <mat-label class="f-s-14 f-w-600 d-block m-b-16">
                How do you typically handle conflict at work?
              </mat-label>
              <mat-form-field appearance="outline" class="w-100">
                <mat-select formControlName="conflictHandling">
                  <mat-option value="address it directly">
                    Address it directly
                  </mat-option>
                  <mat-option value="seek consensus">
                    Seek consensus
                  </mat-option>
                  <mat-option value="avoid it if possible">
                    Avoid it if possible
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <h4 class="mat-headline-6 m-t-24">Terms and condition</h4>
              <p class="m-t-8 f-s-14">
                Inimble is committed to protecting and respecting your privacy, and we'll only use your personal information to administer your account and to provide the products and services you requested from us. From time to time, we would like to contact you about our products and services, as well as other content that may be of interest to you. If you consent to us contacting you for this purpose, please tick below to say how you would like us to contact you:
              </p>
              <mat-checkbox checked color="primary" formControlName="acceptOtherCommunications">
                I agree to receive other communications from Inimble.
              </mat-checkbox>
              <p class="m-t-8 f-s-14">
                In order to provide you the content requested, we need to store and process your personal data. If you consent to us storing your personal data for this purpose, please tick the checkbox below.
              </p>
              <mat-checkbox checked color="primary" required formControlName="acceptPersonalData">
                I agree to allow Inimble to store and process my personal data.
              </mat-checkbox>
              <p class="m-t-8 f-s-14">
                You can unsubscribe from these communications at any time. For more information on how to unsubscribe, our privacy practices, and how we are committed to protecting and respecting your privacy, please review our Privacy Policy.
              </p>

              <div class="d-flex justify-content-between m-t-16">
                <button
                  mat-flat-button
                  class="bg-error text-white"
                  matStepperPrevious
                >
                  Back
                </button>
                <button mat-flat-button (click)="sendForm()">Finish</button>
              </div>
            </form>
          </mat-step>
        </mat-stepper>
        
        <div class="d-flex flex-column justify-content-center align-items-center" *ngIf="formSubmitted">
          <h2>Thanks for your submission!</h2>
          <p>We will get in touch with you shortly.</p>
        </div>
      </mat-card>
    </div>
  </div>
</div>
