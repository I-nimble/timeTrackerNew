<mat-card class="cardWithShadow">
  <mat-card-content>
    @if(invoiceDetail()){
    <span>
      <div class="row m-b-24">
        <div class="col-sm-4 d-flex align-items-center">
          <h4 class="f-s-14 f-s-18 f-w-600">
            #{{ invoiceDetail()?.id }}
          </h4>
        </div>
      </div>
      <mat-divider></mat-divider>
      <div class="row p-y-24">
        <div class="col-sm-6">
          <span class="f-w-600 f-s-15"> Invoice Status: </span>
          <h6 class="m-t-5 m-b-0 f-w-500 f-s-14">
            <span
              class="p-x-8 p-y-4 f-w-500 rounded-pill f-s-12"
              [ngStyle]="{
                'background-color':
                  invoiceDetail()?.status?.name === 'Paid'
                    ? 'var(--mat-sys-primary)'
                    : invoiceDetail()?.status?.name === 'Overdue'
                    ? '#c9c8c8'
                    : invoiceDetail()?.status?.name === 'Pending'
                    ? 'rgb(248 192 118)'
                    : 'transparent',
                color: 'white'
              }"
              >
              {{ invoiceDetail()?.status?.name }}
            </span>
          </h6>
        </div>
        <div class="col-sm-6 text-right">
          <span class="f-w-600 f-s-15"> Due Date: </span>
          <h6 class="m-t-5 m-b-0 f-w-500 f-s-14">
            {{ invoiceDetail()?.due_date | date : "fullDate" }}
          </h6>
        </div>
      </div>
      <mat-divider></mat-divider>
      <div class="row p-y-24">
        <div class="col-sm-6">
          <span class="f-w-600 f-s-15"> Company: </span>
          <h6 class="m-t-5 m-b-0 f-w-500 f-s-14">
            {{ invoiceDetail()?.user?.company?.name }}
          </h6>
        </div>
        <div class="col-sm-6 text-right">
          <span class="f-w-600 f-s-15"> Description: </span>
          <h6 class="m-t-5 m-b-0 f-w-500 f-s-14">
            {{ invoiceDetail()?.description }}
          </h6>
        </div>
      </div>

      <div class="b-1 table-responsive">
        <table mat-table [dataSource]="invoiceDetail()?.tableItems || []" class="no-wrap v-middle">
          <ng-container matColumnDef="itemName">
            <th mat-header-cell *matHeaderCellDef class="f-s-15 f-w-600">
              Plan
            </th>
            <td class="font-normal" mat-cell *matCellDef="let element">
              {{ element.itemName }}
            </td>
          </ng-container>
          <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef class="f-s-15 f-w-600 text-right">
              Total
            </th>
            <td class="font-normal text-right" mat-cell *matCellDef="let element">
              {{ element.unitTotalPrice }}
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>

      <div class="text-right m-t-30">
        <h3 class="m-b-0 b-t-1 p-t-20 f-s-18 m-t-24">
          Total: {{ invoiceDetail()?.user?.company?.currentPlan?.price }}
        </h3>
      </div>
    </span>
    }
  </mat-card-content>
</mat-card>