<div *ngIf="userRole !== '2'; else employeeReport">
  <mat-card class="cardWithShadow">
    <mat-card-content>
      <div class="row justify-content-end">
        <div class="col-12 col-sm-4 m-b-16">
          <mat-form-field appearance="outline" class="w-100 hide-hint">
            <input
              matInput
              placeholder="Search Team Member"
              [(ngModel)]="searchText"
              (keyup)="applyCombinedFilters()"
            />
            <mat-icon matSuffix>
              <i-tabler name="search" class="icon-20 d-flex m-t-2"></i-tabler>
            </mat-icon>
          </mat-form-field>
        </div>
        <div class="col-12 col-sm-4 m-b-16">
          <mat-form-field appearance="outline" *ngIf="userRole === '1' || userRole === '4'" class="w-100 hide-hint">
            <mat-label class="f-s-14 m-b-8">Select a Company</mat-label>
            <mat-select [(ngModel)]="companyId" (selectionChange)="applyCombinedFilters()">
              <mat-option *ngFor="let company of companies" [value]="company.id">
                {{ company.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-12 col-sm-4 m-b-16">
          <button mat-flat-button (click)="openDialog('Invite', {profile: {company_id: companyId}})" color="primary" class="w-100">
            Add Team Member
          </button>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
  <mat-card class="cardWithShadow">
    <mat-card-content>
      <div class="table-responsive">
        <app-employee-table [displayedColumns]="customColumns" [dataSource]="dataSource" (getEmployees)="getEmployees()"></app-employee-table>
        <div *ngIf="dataSource?.length === 0 && loaded" class="text-center p-4 f-s-16 text-muted">
          No employees found.
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>

<ng-template #employeeReport> 
  <app-employee-details></app-employee-details>
</ng-template>