<mat-card class="cardWithShadow">
  <mat-card-content>
    <div class="row m-b-24">
      <div class="col-sm-4 d-flex align-items-center">
        <h4 class="f-s-18 f-w-600">
          Payment Details
        </h4>
      </div>
    </div>
    <mat-divider></mat-divider>

    <form [formGroup]="paymentForm" (ngSubmit)="handleSubmit()" class="p-t-24">
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <span class="f-w-600 f-s-15 d-block m-b-8">Full Name</span>
            <input 
              id="name" 
              type="text" 
              formControlName="name" 
              placeholder="John Doe"
              class="form-control p-12"
              [ngClass]="{ 'is-invalid': paymentForm.get('name')?.touched && paymentForm.get('name')?.invalid }"
            >
            <div *ngIf="paymentForm.get('name')?.touched && paymentForm.get('name')?.invalid" class="invalid-feedback">
              Please enter your full name
            </div>
          </div>
        </div>

        <div class="col-sm-6">
          <div class="form-group">
            <span class="f-w-600 f-s-15 d-block m-b-8">Email</span>
            <input 
              id="email" 
              type="email" 
              formControlName="email" 
              placeholder="john@example.com"
              class="form-control p-12"
              [ngClass]="{ 'is-invalid': paymentForm.get('email')?.touched && paymentForm.get('email')?.invalid }"
            >
            <div *ngIf="paymentForm.get('email')?.touched && paymentForm.get('email')?.invalid" class="invalid-feedback">
              Please enter a valid email address
            </div>
          </div>
        </div>
      </div>

      <div class="row m-t-16">
        <div class="col-12">
          <div class="form-group">
            <span class="f-w-600 f-s-15 d-block m-b-8">Card Details</span>
            <div id="card-element" class="stripe-card-element"></div>
            <div *ngIf="cardError" class="text-danger stripe-error m-t-8">{{ cardError }}</div>
          </div>
        </div>
      </div>

      <div class="row m-t-24">
        <div class="col-12 text-right">
          <button 
            type="submit" 
            class="btn-primary"
            [disabled]="isLoading"
          >
            <span *ngIf="!isLoading">Pay ${{amount | number:'1.2-2'}}</span>
            <span *ngIf="isLoading">
              <i class="fa fa-spinner fa-spin m-r-8"></i> Processing...
            </span>
          </button>
        </div>
      </div>
    </form>
  </mat-card-content>
</mat-card>